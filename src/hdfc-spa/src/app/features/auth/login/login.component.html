<div class="section section-sm my-0 body-pattern">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-lg-4 col-md-5 col-sm-8 col-10">
        <form [formGroup]="loginForm" (ngSubmit)="login(loginForm)">
          <div class="card border-0 mat-elevation-z3">
            <div class="card-header bg-white">
              <div class="text-center">
                <img *ngIf="logo != null" class="img-fluid rounded" src="{{ logo }}" alt="Company Logo"
                  style="max-height: 70px; width:auto;" />
              </div>
            </div>
            <div class="card-body px-lg-4 py-lg-4">
              <div class="text-center text-muted mb-4">
                <p class="description">sign in with credentials</p>
              </div>
              <div class="row">
                <mat-form-field class="col-12">
                  <input matInput placeholder="E-mail" aria-label="E-mail" formControlName="email" autofocus
                    autocomplete="ignore" />
                  <mat-icon matSuffix>email</mat-icon>
                  <mat-error *ngIf="loginForm.get('email').hasError('required')">
                    E-mail is required
                  </mat-error>
                  <mat-error *ngIf="loginForm.get('email').hasError('email')">
                    E-mail is not valid
                  </mat-error>
                </mat-form-field>

                <mat-form-field class="col-12">
                  <input matInput placeholder="Password" aria-label="Password" [type]="hide ? 'password' : 'text'"
                    formControlName="password" />
                  <mat-icon matSuffix (click)="hide = !hide">{{
                    hide ? "visibility_off" : "visibility"
                  }}</mat-icon>

                  <mat-error *ngIf="loginForm.get('password').hasError('required')">
                    Password is required
                  </mat-error>
                  <mat-error *ngIf="loginForm.get('password').hasError('minlength')">
                    Password is at least 8 characters long
                  </mat-error>
                  <mat-error *ngIf="loginForm.get('password').hasError('maxlength')">
                    Password cannot be longer than 50 characters
                  </mat-error>

                </mat-form-field>
              </div>
              <div class="row">
                <div class="col-12">
                  <mat-checkbox formControlName="rememberMe">Remember me</mat-checkbox>
                </div>
              </div>
              <div *ngIf="loginError" class="mat-caption error">
                {{ loginError }}
              </div>
            </div>
            <div class="card-footer">
              <div class="row">
                <div class="col-12">
                  <button type="submit" class="btn btn-primary float-right" [disabled]="loginForm.invalid">
                    Login
                  </button>
                </div>
              </div>
            </div>
          </div>
        </form>
        <div class="mt-3">
          <button mat-button color="primary" [routerLink]="['/forgot-password/']">
            Forgot password?
          </button>
        </div>
      </div>
    </div>
  </div>
</div>