<section class="container" *ngIf="budget">
  <div class="shell-wrapper">
    <div class="shell-wrapper-header">
      <h3 class="shell-header-title">Budget Details of <span
          class="badge badge-lg badge-primary text-uppercase">{{budget.name}}</span></h3>
      <button type="button" mat-icon-button [routerLink]="['/procurement/budgets']">
        <mat-icon>close</mat-icon>
      </button>
    </div>

    <div class="shell-wrapper-container">
      <!-- Budget Details -->
      <div class="row mt-4">
        <div class="col-lg-6">
          <div class="card mat-elevation-z3 border-0">
            <div class="card-header">
              <div class="row">
                <div class="col-lg-6">
                  <div class="d-flex align-items-center">
                    <div class="icon icon-shape icon-shape-primary rounded-circle mr-3">
                      <mat-icon>home</mat-icon>
                    </div>
                    <h4 class="text-capitalize font-weight-500">Budget Info</h4>
                  </div>
                </div>
              </div>
            </div>
            <div class="card-body">
              <div class="row">
                <div class="col-lg-12">
                  <table class="table">
                    <tbody>
                      <tr>
                        <td width="50%" class="no-border">Budget Code</td>
                        <td width="50%" class="no-border">{{budget.referenceId}}</td>
                      </tr>
                      <tr>
                        <td width="50%">Budget Head</td>
                        <td width="50%">{{budgetHeadName}}</td>
                      </tr>
                      <tr>
                        <td width="50%">Budget Category</td>
                        <td width="50%">{{budgetCategoryName}}</td>
                      </tr>
                      <tr>
                        <td width="50%">Budget Type</td>
                        <td width="50%">{{budget.budgetType}}</td>
                      </tr>
                      <tr>
                        <td width="50%">Person In Charge</td>
                        <td width="50%">{{personInChargeName}}</td>
                      </tr>
                      <tr>
                        <td width="50%">Department Name</td>
                        <td width="50%">{{departmentName}}</td>
                      </tr>
                      <!-- <tr>
                        <td width="50%">Currency</td>
                        <td width="50%" style="color:blue;">{{currency}}</td>
                      </tr> -->
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>



        <div class="col-lg-6">
          <div class="card mat-elevation-z3 border-0">
            <div class="card-header">
              <div class="row">
                <div class="col-lg-6">
                  <div class="d-flex align-items-center">
                    <div class="icon icon-shape icon-shape-primary rounded-circle mr-3">
                      <mat-icon>home</mat-icon>
                    </div>
                    <h4 class="text-capitalize font-weight-500">Additional Info</h4>
                  </div>
                </div>

              </div>
            </div>
            <div class="card-body">
              <div class="row">
                <div class="col-lg-12">
                  <table class="table">
                    <tbody>
                      <tr>
                        <td width="50%" class="no-border">Created By</td>
                        <td width="50%" class="no-border">{{createdUserEmail}}</td>
                      </tr>
                      <tr>
                        <td width="50%">Created Date</td>
                        <td width="50%">{{budget.createdDate | utcDateFormat}}</td>
                      </tr>
                      <tr>
                        <td width="50%">Total Amount</td>
                        <td width="50%"> <small class="text-danger">{{currency}}</small> {{budget.totalAmount}}</td>
                      </tr>
                      <tr>
                        <td width="50%">StartDate</td>
                        <td width="50%">{{budget.startDate | dateFormat}}</td>
                      </tr>
                      <tr>
                        <td width="50%">EndDate</td>
                        <td width="50%">{{budget.endDate | dateFormat}}</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>



      <div class="row mt-4" *ngIf="dataSource.data.length > 0">
        <div class="col-lg-12">
          <div class="card mat-elevation-z3 border-0">
            <div class="card-header" style="font-weight: 200;">
              <div class="row">
                <div class="col-12">
                  <div class="d-flex align-items-center">
                    <div class="icon icon-shape icon-shape-primary rounded-circle mr-3">
                      <mat-icon>question_answer</mat-icon>
                    </div>
                    <h4 class="text-capitalize font-weight-500">Budget SpendLimits</h4>
                  </div>
                </div>
              </div>
            </div>
            <div class="card-body">
              <div class="row mt-4">
                <div class="col-lg-12">
                  <div class="table-responsive">
                    <table mat-table [dataSource]="dataSource">
                      <ng-container matColumnDef="#">
                        <th mat-header-cell *matHeaderCellDef>#</th>
                        <td mat-cell *matCellDef="let element; let i = index">
                          {{ i + 1 }}
                        </td>
                      </ng-container>
                      <ng-container matColumnDef="startDate">
                        <th mat-header-cell *matHeaderCellDef>Start Date</th>
                        <td mat-cell *matCellDef="let element">
                          {{ element.startDate | date: 'MMM d, y' }}
                        </td>
                      </ng-container>
                      <ng-container matColumnDef="endDate">
                        <th mat-header-cell *matHeaderCellDef>End Date</th>
                        <td mat-cell *matCellDef="let element">
                          {{ element.endDate | date: 'MMM d, y' }}
                        </td>
                      </ng-container>
                      <ng-container matColumnDef="spendLimit">
                        <th mat-header-cell *matHeaderCellDef>Spend Limit</th>
                        <td mat-cell *matCellDef="let element">
                          {{ element.spendLimit }}
                        </td>
                      </ng-container>
                      <ng-container matColumnDef="remarks">
                        <th mat-header-cell *matHeaderCellDef>Remarks</th>
                        <td mat-cell *matCellDef="let element">
                          {{ element.remarks }}
                        </td>
                      </ng-container>
                      <tr mat-header-row *matHeaderRowDef="displayColumns"></tr>
                      <tr mat-row *matRowDef="let row; columns: displayColumns"></tr>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>


    </div>

  </div>
</section>